<!DOCTYPE html>
<html>
  <head>
    <title>React Basics</title>
    <link rel="stylesheet" href="react-practice2.css" />
  </head>
  <body>
    <div class="js-container"></div>
    
    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>

    <script type="text/babel">

        // function Counter(){
        //     const[number,setNumber]=React.useState(0);
        //     return(
        //         <>
        //             <button onClick={()=>setNumber(number+1)}>+</button>
        //             {number}
        //             <button onClick={()=>setNumber(number-1)}>-</button>
        //         </>
        //     )
        // }

        // function TextBox(){
        //     const[text,setText]=React.useState("");
        //     return(
        //         <>
        //         <input
        //             placeholder="type"
        //             value={text}
        //             onChange={(e)=>setText(e.target.value)}
        //         />
        //         <p>Mirror:{text}</p>
        //         </>

        //     );
        // }

        // function ColorChange(){
        //     const[color,setColor]=React.useState("red");
        //     return(
        //         <>
        //             <input
        //               placeholder="color"
        //               value={color}
        //               onChange={(e)=>setColor(e.target.value)}
        //             />
        //             <div style={{width:100,height:100,backgroundColor:color}}></div>
        //         </>
        //     );
        // }

        // function ChangeColor(){
        //     const[color,setColor]=React.useState("");
        //     const colors = ["red", "blue", "green", "black"];

        //     return(
        //         <>
        //             <button onClick={() => setColor(colors[Math.floor(Math.random() * colors.length)])}>
        //                 change color
        //             </button>
        //             <div style={{width:100,height:100,backgroundColor:color}}></div>
                    
        //         </>
        //     );
        // }

        // function TextPreview(){
        //     const[text,setText]=React.useState("");
        //     return(<>
        //         <input value={text}
        //         onChange={(e)=>setText(e.target.value)}
        //         />
        //         <p>{text}</p>
        //         {text.length>10&&<p>too long</p>}
            
        //     </>);
        // }
        // // exercise 1
        // function Mirror(){
        //     const[text,setText]=React.useState("");
        //     return(<>
        //         <input value={text}
        //         onChange={(e)=>setText(e.target.value)}
        //         />
        //         <p>{text}</p>
        //     </>);
        // }
        // // exercise 2
        // function CharCount(){
        //     const[text,setText]=React.useState("")
        //     return(<>
        //     <input  
        //         value={text}
        //         onChange={e=>setText(e.target.value)}
        //     />
        //     <p>{text.length}</p>
        //     </>
        //     );
        // }
        
        // //exercise 3
        // function Counter2(){
        //     const[count,setCount]=React.useState(0)
        //     const[step,setStep]=React.useState(0)
        //     return(
        //         <>  
        //             <input type="number" value={step} onChange={(e)=>setStep(Number(e.target.value))} />
        //             <button onClick={()=>setCount(count+step)}>+</button>
        //             {count}
        //             <button onClick={()=>setCount(count-step)}>-</button>
        //         </>
        //     );
        // }

        // function Listing(){
        //     const fruits = ["apple", "banana", "cherry"];
        //     return(<>
        //     {fruits.map((fruit,index)=>(
        //         <p key={index}>{fruit}</p>
        //     )
        
        // )}
        //     </>);

        // }
        // function Listingnumbers(){
        //     const nums=[1, 2, 3, 4, 5]
        //     return(<>
        //         {nums.map((num,index)=>(
        //             <p key={index}>{num*2}</p>
        //         ))}
        //     </>);
        // }
function Todo() {
    const [val, setVal] = React.useState("");
    const [todos, setTodos] = React.useState([]);
    const [error, setError] = React.useState("");

    // Add a new todo
    const addToDo = () => {
        if (!val) return; // Don't add empty todos
        if (todos.length >= 5) {
            setError("Limit Reached");
            return;
        }
        const newToDo = { text: val, date: new Date().toLocaleDateString(), done: false };
        setTodos([...todos, newToDo]); // Add to list
        setVal(""); // Clear input
        setError(""); // Clear error
    };

    // Toggle the 'done' status of a todo
    const toggleDone = (index) => {
        const newTodos = [...todos];
        newTodos[index].done = !newTodos[index].done;
        setTodos(newTodos);
    };

    // Delete a todo
    const deleteTodo = (index) => {
        const newTodos = todos.filter((_, i) => i !== index);
        setTodos(newTodos);
    };

    return (
        <div className="MainBox">
            <div className="TodoBox">
                <input 
                    value={val} 
                    placeholder="Add todo" 
                    onChange={(e) => setVal(e.target.value)} 
                />
                <button onClick={addToDo}>Add</button>
                {error && <p style={{color: "red"}}>{error}</p>}
            </div>

            <div className="todolist">
                {todos.map((todo, index) => (
                    <h4 key={index}>
                        <span style={{ textDecoration: todo.done ? "line-through" : "none" }}>
                            {todo.text} ({todo.date})
                        </span>
                        <input 
                            type="checkbox" 
                            checked={todo.done} 
                            onChange={() => toggleDone(index)} 
                        />
                        <button onClick={() => deleteTodo(index)}>X</button>
                    </h4>
                ))}
            </div>
        </div>
    );
}

function App() {
    return <Todo />;
}

const container = document.querySelector('.js-container');
ReactDOM.createRoot(container).render(<App />);

    </script>
  </body>
</html>